/* modules/event-coupon.css */
/* 1. 캐릭터 기본 스타일 */
.event-coupon-character {
    position: fixed; /* 화면 스크롤과 상관없이 고정 위치 */
    z-index: 9990;   /* 가장 위에 표시 */
    width: 28px;
    height: 28px;
    cursor: pointer;

    /* 요청하신 이미지 경로 */
    /* 주의: CSS 파일 위치 기준 2단계 상위 폴더의 favicon을 찾습니다. 안 보이면 경로 수정 필요 */
    background-image: url('../../favicon/MyCharacter2.png');

    background-size: contain;
    background-repeat: no-repeat;
    background-position: center bottom; /* 오뚜기처럼 보이기 위해 하단 기준 정렬 */

    /* 애니메이션 중심점을 하단 중앙으로 설정 (중요: 오뚜기 효과 핵심) */
    transform-origin: bottom center;

    /* [핵심 애니메이션] 5초 주기로 무한 반복 (2초 대기 + 3초 흔들림) */
    animation: wobbleLoop 5s infinite ease-in-out;

    /* 부드러운 전환 */
    transition: filter 0.3s;
}

/* 호버/터치 시 살짝 밝게 (피드백) */
.event-coupon-character:hover {
    filter: brightness(1.1);
}

/* 2. [애니메이션 키프레임] 오뚜기 반복 (총 5초) */
@keyframes wobbleLoop {
    /* --- 0초 ~ 2초 (40% 구간): 대기 상태 --- */
    0%, 40% {
        transform: rotate(0deg) scale(1);
    }
    /* --- 2초 ~ 5초 (60% 구간): 오뚜기 흔들림 --- */
    45% { transform: rotate(-10deg) scale(1.05); }
    50% { transform: rotate(8deg) scale(1.05); }
    55% { transform: rotate(-6deg) scale(1.05); }
    60% { transform: rotate(4deg) scale(1.05); }
    65% { transform: rotate(-2deg) scale(1.05); }
    70% { transform: rotate(1deg) scale(1.05); }
    /* 마지막에 부드럽게 정지 */
    80%, 100% {
        transform: rotate(0deg) scale(1);
    }
}

/* 3. 클릭 효과 스타일 */
.event-coupon-character.is-clicked {
    /* 클릭 전용 애니메이션 1초간 1회 실행 */
    animation: clickVanish 1s forwards ease-out;
    /* 클릭 후 또 클릭 방지 */
    pointer-events: none;
}

/* [애니메이션 키프레임] 클릭 시 커지면서 사라짐 */
@keyframes clickVanish {
    to {
        transform: scale(2.5) rotate(10deg); /* 커지면서 살짝 회전 */
        opacity: 0; /* 투명해짐 */
    }
}